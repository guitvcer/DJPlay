{% load static %}

{% if messages %}
    {% for message in messages %}
        <div class="alert
            {% if message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
                simple-alert
            {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                success-alert
            {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
                warning-alert
            {% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                danger-alert
            {% endif %}">
            {% autoescape off %}
                <h3 id="messageH3">{{ message }}</h3>
            {% endautoescape %}
            <a class="close">&times;</a>
        </div>
    {% endfor %}
    <script src="{% static 'js/tools.js' %}"></script>
    <script>
        setEventForClose();

        let messageWrapper = document.querySelector('#messageH3').firstChild;
        let messageText = "";

        if (messageWrapper.tagName === 'UL') {
            for (let i of messageWrapper.childNodes) {
                messageText += i.childNodes[1].firstChild.innerHTML + "<br>";
            }

            messageH3.innerHTML = messageText;
        }
    </script>
{% endif %}